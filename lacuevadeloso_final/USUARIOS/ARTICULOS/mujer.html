<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>La Cueva del Oso</title>
  <link href="https://fonts.googleapis.com/css2?family=Nosifer&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />

<style>

  
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial', sans-serif;
      background: url('../img/LaCuevaDelOso.png') no-repeat center center fixed;
      background-size: cover;
      color: white;
    }

    .top-bar {
      background-color: #5a8773;
      height: 60px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 30px;
      font-family: sans-serif;
    }
    
    .logo img {
      height: 50px;
    }
    
    .nav-links {
      display: flex;
      gap: 30px;
    }
    
    .nav-links a {
      text-decoration: none;
      color: black;
      font-weight: 500;
      font-size: 16px;
    }
    
    .icons {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    
    .icons img {
      height: 30px;
      cursor: pointer;
      border-radius: 50%;
    }
    

    .logo-central {
      text-align: center;
      margin-top: 100px;
    }

    .logo-central img {
      height: 200px;
    }

    .logo-central h1 {
      font-family: 'Nosifer', cursive;
      font-size: 36px;
      margin-top: 20px;
    }

    .botones {
      display: flex;
      justify-content: center;
      margin-top: 40px;
      gap: 60px;
    }

    .boton {
      text-align: center;
      cursor: pointer;
    }

    .boton img {
      height: 80px;
      transition: transform 0.3s;
    }

    .boton:hover img {
      transform: scale(1.1);
    }

    .boton p {
      margin-top: 10px;
      font-weight: bold;
      font-size: 16px;
    }

    .footer {
      position: fixed;
      bottom: 0;
      width: 100%;
      background-color: black;
      color: white;
      font-size: 12px;
      display: flex;
      justify-content: space-between;
      padding: 5px 20px;
    }

/* Politicas styles */
    .titulo {
      font-size: 10em;
      font-weight: bold;
      margin-bottom: 30px;
      padding-top: 80px;
    }

    .descarga {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 30px;
    }

    .descarga button {
      background-color: #5a8773;
      border: none;
      padding: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }

    .descarga button img {
      width: 20px;
      height: 20px;
    }
    .descarga span {
      font-size: 1.2em;
      color: #848484;
    }

    .seccion-extra {
      
      background-color: #ffffff00;
      height: 200px;
      border-radius: 8px;
      padding: 20px;
    }
    .seccion-extra p {
      
      color: #848484;
    }


    body .registro {
      
        display: flex;
        justify-content: center; /* centrado horizontal */
        align-items: center; /* centrado vertical */
        min-height: 100vh; /* ocupa toda la altura de la pantalla */
      
    }
    
    .form-container {
      background-color: #848484;
      border-radius: 20px;
      padding: 30px 40px;
      width: 320px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }
    
    h1 {
      margin-top: 0;
      margin-bottom: 20px;
      font-size: 28px;
      color: #ffffff;
    }
    
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    
    input[type="text"],
    input[type="password"],
    input[type="email"] {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    
    .fecha {
      display: flex;
      align-items: center;
      gap: 5px;
      margin-top: 5px;
    }
    
    .fecha input {
      width: 30%;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ccc;
      text-align: center;
    }
    
    .fecha span {
      font-size: 24px;
      padding: 0 5px;
    }

    .prendas:hover{
       transform: scale(1.05); 

    }

  
    button {
      margin-top: 20px;
      padding: 12px;
      background-color: #6ba694;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    button:hover {
      background-color: #5b967f;
    }
 
</style>

</head>
<body>
  <div class="top-bar">
    <a href="../PRINCIPAL/principal.html">
        <img src="../img/LOGOSO.png" alt="" height="80px" width="80px"/>
      </a>
    <nav class="nav-links">
      <a  class="prendas"  href="mujer.html">PRENDAS</a>
  
    </nav>
    <div class="icons">
      <img src="img/cart-shopping-solid.svg" alt="Carrito" />
      <img src="img/heart-solid.svg" alt="Favoritos" />
      <img src="img/LOGOUSUARIO.png" alt="Usuario" />
    </div>
  </div>

  <div class="container-fluid">
    <div class="row">
      <!-- ASIDE FILTROS -->
      <aside class="col-md-3 bg-black p-4 border-end text-white">
        <h4 class="mb-4">Filtros</h4>

        <h6>Color</h6>
        <div id="filtro-color"></div>
        <hr />

        <h6>Rango de precios</h6>
        <label for="precioMin">Mínimo:</label>
        <input type="number" class="form-control mb-2" id="precioMin" placeholder="$0" />
        <label for="precioMax">Máximo:</label>
        <input type="number" class="form-control mb-3" id="precioMax" placeholder="$1000" />

        <h6>Tipo de prenda</h6>
        <div id="filtro-tipo"></div>

        <hr />

        <h6>Talla</h6>
        <select id="filtro-talla" class="form-select mb-3"></select>

        <button class="btn btn-primary mt-4 w-100" onclick="cargarProductos()">Aplicar filtros</button>
      </aside>

      <!-- PRODUCTOS -->
      <main class="col-md-9 p-4">
        <div id="productos" class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4">
          <!-- Productos con JS -->
        </div>
      </main>
    </div>
  </div>

  <div class="footer text-white bg-black d-flex justify-content-between p-2">
    <div><strong>Ⓡ</strong> Reservo derechos de uso total en esta web. NET</div>
    <div onclick="location.href='politicas.html'">POLÍTICAS DE LA EMPRESA</div>
  </div>

 <script>

  // Definir la ruta base para imágenes u otros archivos
const BASE_URL = "http://localhost/USUARIOS/ARTICULOS/";

// Cargar filtros dinámicamente
function cargarFiltros() {
  fetch("obtener_filtros.php")
    .then(res => res.json())
    .then(data => {
      const colorCont = document.getElementById("filtro-color");
      const tipoCont = document.getElementById("filtro-tipo");
      const tallaSel = document.getElementById("filtro-talla");

      colorCont.innerHTML = data.colores.map(c =>
        `<div class="form-check">
          <input class="form-check-input" type="checkbox" value="${c.id}" id="color-${c.id}">
          <label class="form-check-label" for="color-${c.id}">${c.nombre}</label>
        </div>`
      ).join("");

      tipoCont.innerHTML = data.tipos.map(t =>
        `<div class="form-check">
          <input class="form-check-input" type="checkbox" value="${t.id}" id="tipo-${t.id}">
          <label class="form-check-label" for="tipo-${t.id}">${t.nombre}</label>
        </div>`
      ).join("");

      tallaSel.innerHTML = `<option value="">Todas</option>` + data.tallas.map(t =>
        `<option value="${t.id}">${t.nombre}</option>`
      ).join("");
    });
}

// Obtener filtros seleccionados
function obtenerFiltros() {
  const filtros = {};

  const colores = Array.from(document.querySelectorAll("#filtro-color input:checked")).map(el => el.value);
  const tipos = Array.from(document.querySelectorAll("#filtro-tipo input:checked")).map(el => el.value);
  const talla = document.getElementById("filtro-talla").value;
  const precioMin = document.getElementById("precioMin").value;
  const precioMax = document.getElementById("precioMax").value;

  if (colores.length > 0) filtros.colores = colores.join(",");
  if (tipos.length > 0) filtros.tipos = tipos.join(",");
  if (talla) filtros.talla = talla;
  if (precioMin) filtros.precioMin = precioMin;
  if (precioMax) filtros.precioMax = precioMax;

  return filtros;
}

// Cargar productos según filtros
function cargarProductos() {
  const filtros = obtenerFiltros();
  const query = new URLSearchParams(filtros).toString();

  fetch("obtener_prenda.php?" + query)
    .then(res => res.json())
    .then(data => {
      const contenedor = document.getElementById("productos");
      contenedor.innerHTML = "";

      if (data.length === 0) {
        contenedor.innerHTML = "<div class='col'>No se encontraron resultados.</div>";
        return;
      }

      data.forEach(p => {
        contenedor.innerHTML += `
          <div class="col">
            <div class="card h-100">
              <img src="${BASE_URL + p.imagen}" class="card-img-top" alt="${p.nombre}">
              <div class="card-body">
                <h5 class="card-title">${p.nombre}</h5>
                <p class="card-text">$${p.precio} MXN</p>
              </div>
              <div class="card-footer bg-white">
                <a href="/USUARIOS/ARTICULO/producto.php?id=${p.id}" class="btn-vermas">Ver más</a>
              </div>
            </div>
          </div>`;
      });
    });
}

// Cargar todo al inicio
window.onload = () => {
  cargarFiltros();
  cargarProductos();
};


 </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
